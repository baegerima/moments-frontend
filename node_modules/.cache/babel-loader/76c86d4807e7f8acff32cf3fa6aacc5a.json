{"ast":null,"code":"var _jsxFileName = \"/Users/aigerim/moments-frontend/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport api from '../api/api'; // Настроенный API клиент (axios)\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      // Отправляем запрос на сервер для логина\n      const response = await api.post('/auth/login', {\n        email,\n        password\n      });\n\n      // Получаем токен из ответа и сохраняем в localStorage\n      const {\n        token\n      } = response.data;\n      localStorage.setItem('authToken', token);\n      alert('Login successful!');\n      window.location.href = '/home'; // Редирект после логина\n    } catch (error) {\n      console.error('Login failed:', error);\n      setError('Invalid email or password');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"Email\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    placeholder: \"Password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, loading ? 'Logging in...' : 'Login')), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }, error), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 39\n    }\n  }, \"Register here\")));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","api","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","response","post","token","data","localStorage","setItem","alert","window","location","href","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","disabled","style","color"],"sources":["/Users/aigerim/moments-frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport api from '../api/api';  // Настроенный API клиент (axios)\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n\n        try {\n            // Отправляем запрос на сервер для логина\n            const response = await api.post('/auth/login', { email, password });\n\n            // Получаем токен из ответа и сохраняем в localStorage\n            const { token } = response.data;\n            localStorage.setItem('authToken', token);\n\n            alert('Login successful!');\n            window.location.href = '/home';  // Редирект после логина\n        } catch (error) {\n            console.error('Login failed:', error);\n            setError('Invalid email or password');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div>\n            <h2>Login</h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <input\n                        type=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        placeholder=\"Email\"\n                        required\n                    />\n                </div>\n                <div>\n                    <input\n                        type=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        placeholder=\"Password\"\n                        required\n                    />\n                </div>\n                <button type=\"submit\" disabled={loading}>\n                    {loading ? 'Logging in...' : 'Login'}\n                </button>\n            </form>\n\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n            <p>Don't have an account? <a href=\"/register\">Register here</a></p>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}